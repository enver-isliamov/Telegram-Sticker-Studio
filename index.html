<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n="appTitle">Студия Стиĸеров Telegram</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
</head>
<body>
    <header>
        <div class="header-content">
            <h1 data-i18n="appTitle">Студия Стиĸеров Telegram</h1>
            <div class="language-dropdown">
                <button id="lang-dropdown-btn" class="language-dropdown-btn">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="2" y1="12" x2="22" y2="12"></line><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path></svg>
                    <span>RU</span>
                </button>
                <ul id="lang-options" class="language-dropdown-options hidden">
                    <li data-lang="ru">Русский</li>
                    <li data-lang="en">English</li>
                    <li data-lang="crh">Qırımtatarca</li>
                </ul>
            </div>
        </div>
    </header>

    <main>
        <div class="card controls-container">
            <div class="control-panel">
                <button id="select-folder-btn" class="button-primary">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20v2H6.5a2.5 2.5 0 0 1 0-5H20v2H6.5a2.5 2.5 0 0 1 0-5H20V5H6.5a2.5 2.5 0 0 1-2.5-2.5V2"></path></svg>
                    <span data-i18n="selectFolderBtn">Выбрать папку</span>
                </button>
                <input type="file" id="file-input" webkitdirectory directory multiple hidden>

                <div class="toggles">
                    <label class="switch">
                        <input type="checkbox" id="add-outline-toggle">
                        <span class="slider"></span>
                        <span class="label-text" data-i18n="addOutlineToggle">Добавить обводку</span>
                    </label>
                </div>
            </div>
        </div>

        <div id="progress-container" class="progress-container hidden">
            <span id="progress-text"></span>
            <div class="progress-bar-background">
                <div id="progress-bar"></div>
            </div>
        </div>
        
        <div id="sticker-grid" class="sticker-grid"></div>

        <div id="download-buttons" class="download-buttons hidden">
            <div class="card">
                <h3 data-i18n="batchDownloadTitle">Пакетная загрузка</h3>
                <div id="zip-status" class="hidden"></div>
                <div class="button-group">
                    <button id="download-png-btn" class="button-secondary">
                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>
                        <span data-i18n="downloadPngBtn">Скачать все (.zip с PNG)</span>
                    </button>
                    <button id="download-webp-btn" class="button-secondary">
                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>
                         <span data-i18n="downloadWebpBtn">Скачать все (.zip с WebP)</span>
                    </button>
                </div>
            </div>
        </div>
    </main>

    <!-- Фиксированный блок поддержки (обновленный) -->
    <div class="support-bar">
        <div class="support-bar-content">
            <a href="https://t.me/EnrikeTomas" target="_blank" class="author-link" data-i18n-title="authorLink_title" title="Связаться в Telegram">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="22" y1="2" x2="11" y2="13"></line><polygon points="22 2 15 22 11 13 2 9 22 2"></polygon></svg>
                <span data-i18n="authorLine">Created by Enver Isliamov</span>
            </a>
            <div class="support-links">
                <a href="ton://transfer/UQB2E9NJJlcgZMtkl0K0VjGBgGHB6-7azh9BQBN1hTjRcts1" class="support-button usdt-button" data-i18n-title="supportUSDT_title" title="Открыть кошелек TON для перевода">
                     <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2z"></path><path d="M15 9.5s-1.5 1.5-3 1.5-3-1.5-3-1.5"></path><path d="M15 14.5s-1.5 1.5-3 1.5-3-1.5-3-1.5"></path></svg>
                    <span data-i18n="supportUSDT">USDT</span>
                </a>
                <a href="https://boosty.to/oja/single-payment/donation/267048/target?share=target_link" target="_blank" class="support-button boosty-button" data-i18n-title="supportDonate_title" title="Поддержать на Boosty">
                     <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path></svg>
                    <span data-i18n="supportDonate">Поддержать</span>
                </a>
            </div>
        </div>
    </div>

    <script src="lib/jszip.min.js"></script>
    <script type="module" src="app.js"></script>
</body>
</html>
